---
layout: "rabbitmq"
page_title: "RabbitMQ: rabbitmq_shovel"
sidebar_current: "docs-rabbitmq-resource-shovel"
description: |-
  Creates and manages a shovel on a RabbitMQ server.
---

# rabbitmq\_shovel

The ``rabbitmq_shovel`` resource creates and manages a dynamic shovel.

## Example Usage

```hcl
resource "rabbitmq_vhost" "test" {
    name = "test"
}

resource "rabbitmq_exchange" "test" {
    name = "test_exchange"
    vhost = "${rabbitmq_vhost.test.name}"
    settings {
        type = "fanout"
        durable = false
        auto_delete = true
    }
}

resource "rabbitmq_queue" "test" {
	name = "test_queue"
	vhost = "${rabbitmq_vhost.test.name}"
	settings {
		durable = false
		auto_delete = true
	}
}

resource "rabbitmq_shovel" "shovelTest" {
	name = "shovelTest"
	vhost = "${rabbitmq_vhost.test.name}"
	info {
		source_uri = "amqp:///test"
		source_exchange = "${rabbitmq_exchange.test.name}"
		source_exchange_key = "test"
		destination_uri = "amqp:///test"
		destination_queue = "${rabbitmq_queue.test.name}"
	}
}
```

{{ .SchemaMarkdown | trimspace }}

## Import

Shovels can be imported using the `name` and `vhost`
E.g.

```
terraform import rabbitmq_shovel.test shovelTest@test
```
